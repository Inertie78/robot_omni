<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="utf-8">
    <title>AxisOne ‚Äì IA</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>

<header>
    <h1>AxisOne ‚Äì IA</h1>
    <nav>
        <a href="index.html">Cockpit</a>
        <a href="ia.html" class="active">IA</a>
        <a href="pi.html">PI</a>
        <a href="config.html">Config</a>
    </nav>
</header>

<!-- ===========================
     IA ‚Äì Contr√¥les & Stats
=========================== -->
<section class="card">
    <h2>ü§ñ IA ‚Äì Apprentissage TD3</h2>

    <div class="mode-row">
        <button class="hud-btn mode" onclick="saveAI()">SAVE AI</button>
        <button class="hud-btn mode" onclick="loadAI()">LOAD AI</button>
        <button class="hud-btn mode" onclick="toggleIADebug()">DEBUG IA</button>
    </div>

    <!-- HUD IA (statistiques principales) -->
    <div id="aiDisplay" class="hud-grid-3">

        <div class="hud-item">
            <label>Action vx
                <span class="tooltip">‚ÑπÔ∏è
                    <span class="tooltip-text">
                        Composante X de l‚Äôaction envoy√©e au robot (vitesse lat√©rale).
                    </span>
                </span>
            </label>
            <span id="hud_vx">--</span>
        </div>

        <div class="hud-item">
            <label>Action vy
                <span class="tooltip">‚ÑπÔ∏è
                    <span class="tooltip-text">
                        Composante Y de l‚Äôaction envoy√©e au robot (vitesse avant/arri√®re).
                    </span>
                </span>
            </label>
            <span id="hud_vy">--</span>
        </div>

        <div class="hud-item">
            <label>Action w
                <span class="tooltip">‚ÑπÔ∏è
                    <span class="tooltip-text">
                        Vitesse de rotation envoy√©e au robot.
                    </span>
                </span>
            </label>
            <span id="hud_w">--</span>
        </div>

        <div class="hud-item">
            <label>Reward
                <span class="tooltip">‚ÑπÔ∏è
                    <span class="tooltip-text">
                        R√©compense instantan√©e donn√©e √† l‚ÄôIA pour cette √©tape.
                        Indique si l‚Äôaction a √©t√© b√©n√©fique ou non.
                    </span>
                </span>
            </label>
            <span id="hud_reward">--</span>
        </div>

        <div class="hud-item">
            <label>Distance
                <span class="tooltip">‚ÑπÔ∏è
                    <span class="tooltip-text">
                        Distance actuelle entre le robot et la cible.
                    </span>
                </span>
            </label>
            <span id="hud_dist">--</span>
        </div>

        <div class="hud-item">
            <label>Steps
                <span class="tooltip">‚ÑπÔ∏è
                    <span class="tooltip-text">
                        Nombre total d‚Äôupdates TD3 effectu√©s depuis le d√©but.
                    </span>
                </span>
            </label>
            <span id="hud_steps">--</span>
        </div>

        <div class="hud-item">
            <label>Speed x
                <span class="tooltip">‚ÑπÔ∏è
                    <span class="tooltip-text">
                        Vitesse r√©elle du robot sur l‚Äôaxe X (mesur√©e par l‚Äôenvironnement).
                    </span>
                </span>
            </label>
            <span id="hud_sx">--</span>
        </div>

        <div class="hud-item">
            <label>Speed y
                <span class="tooltip">‚ÑπÔ∏è
                    <span class="tooltip-text">
                        Vitesse r√©elle du robot sur l‚Äôaxe Y.
                    </span>
                </span>
            </label>
            <span id="hud_sy">--</span>
        </div>

        <div class="hud-item">
            <label>Critic Loss
                <span class="tooltip">‚ÑπÔ∏è
                    <span class="tooltip-text">
                        Erreur du Critic TD3. Indique la stabilit√© de l‚Äô√©valuation des actions.
                    </span>
                </span>
            </label>
            <span id="hud_closs">--</span>
        </div>

        <div class="hud-item">
            <label>Actor Loss
                <span class="tooltip">‚ÑπÔ∏è
                    <span class="tooltip-text">
                        Erreur de l‚ÄôActor TD3. Indique la qualit√© de la politique apprise.
                    </span>
                </span>
            </label>
            <span id="hud_aloss">--</span>
        </div>

    </div>

    <!-- Graphiques IA -->
    <div class="graph-row">

        <div class="graph-card">
            <h3>
                Reward (derni√®res √©tapes)
                <span class="tooltip">‚ÑπÔ∏è
                    <span class="tooltip-text">
                        Affiche l‚Äô√©volution du reward sur les derni√®res √©tapes.
                        Permet de visualiser la stabilit√© et la progression de l‚Äôapprentissage TD3.
                    </span>
                </span>
            </h3>
            <canvas id="rewardCanvas" width="300" height="150"></canvas>
        </div>

        <div class="graph-card">
            <h3>
                Losses TD3 (Critic / Actor)
                <span class="tooltip">‚ÑπÔ∏è
                    <span class="tooltip-text">
                        Critic Loss = stabilit√© des Q-values.
                        Actor Loss = qualit√© de la politique apprise.
                        Permet de d√©tecter sur-apprentissage ou instabilit√©.
                    </span>
                </span>
            </h3>
            <canvas id="lossCanvas" width="300" height="150"></canvas>
        </div>

        <div class="graph-card"> 
            <h3>
                Reward par √©pisode
                <span class="tooltip">‚ÑπÔ∏è
                    <span class="tooltip-text">
                        Affiche le reward total de chaque √©pisode.
                        Permet de voir la progression globale de l‚ÄôIA.
                    </span>
                </span>
            </h3> 
            <canvas id="episodeRewardCanvas" width="300" height="150"></canvas> 
        </div>

    </div>

    <!-- Debug brut IA -->
    <pre id="aiDebug" class="enc-box" style="display:none; max-height:150px; overflow:auto;"></pre>
</section>

<!-- ===========================
     IA ‚Äì TD3 Live (Vue d√©taill√©e)
=========================== -->
<section class="card">
    <h2>üß† IA ‚Äì TD3 Live</h2>

    <div class="hud-grid-3">

        <div class="hud-item">
            <label>vx
                <span class="tooltip">‚ÑπÔ∏è
                    <span class="tooltip-text">Action vx envoy√©e par l‚ÄôIA.</span>
                </span>
            </label>
            <span id="ia_vx">--</span>
        </div>

        <div class="hud-item">
            <label>vy
                <span class="tooltip">‚ÑπÔ∏è
                    <span class="tooltip-text">Action vy envoy√©e par l‚ÄôIA.</span>
                </span>
            </label>
            <span id="ia_vy">--</span>
        </div>

        <div class="hud-item">
            <label>w
                <span class="tooltip">‚ÑπÔ∏è
                    <span class="tooltip-text">Action de rotation envoy√©e par l‚ÄôIA.</span>
                </span>
            </label>
            <span id="ia_w">--</span>
        </div>

        <div class="hud-item">
            <label>Reward
                <span class="tooltip">‚ÑπÔ∏è
                    <span class="tooltip-text">R√©compense instantan√©e de l‚Äô√©tape actuelle.</span>
                </span>
            </label>
            <span id="ia_reward">--</span>
        </div>

        <div class="hud-item">
            <label>Critic
                <span class="tooltip">‚ÑπÔ∏è
                    <span class="tooltip-text">Critic Loss pour cette √©tape.</span>
                </span>
            </label>
            <span id="ia_critic">--</span>
        </div>

        <div class="hud-item">
            <label>Actor
                <span class="tooltip">‚ÑπÔ∏è
                    <span class="tooltip-text">Actor Loss pour cette √©tape.</span>
                </span>
            </label>
            <span id="ia_actor">--</span>
        </div>

        <div class="hud-item">
            <label>Distance
                <span class="tooltip">‚ÑπÔ∏è
                    <span class="tooltip-text">Distance actuelle au point cible.</span>
                </span>
            </label>
            <span id="ia_dist">--</span>
        </div>

        <div class="hud-item">
            <label>Speed X
                <span class="tooltip">‚ÑπÔ∏è
                    <span class="tooltip-text">Vitesse r√©elle du robot sur l‚Äôaxe X.</span>
                </span>
            </label>
            <span id="ia_sx">--</span>
        </div>

        <div class="hud-item">
            <label>Speed Y
                <span class="tooltip">‚ÑπÔ∏è
                    <span class="tooltip-text">Vitesse r√©elle du robot sur l‚Äôaxe Y.</span>
                </span>
            </label>
            <span id="ia_sy">--</span>
        </div>

    </div>

    <div class="hud-grid-3">

        <div class="hud-item">
            <label>Step
                <span class="tooltip">‚ÑπÔ∏è
                    <span class="tooltip-text">Nombre total d‚Äôupdates TD3 effectu√©s.</span>
                </span>
            </label>
            <span id="ia_step">--</span>
        </div>

        <div class="hud-item">
            <label>Updates
                <span class="tooltip">‚ÑπÔ∏è
                    <span class="tooltip-text">Nombre d‚Äôupdates Critic/Actor cumul√©s.</span>
                </span>
            </label>
            <span id="ia_updates">--</span>
        </div>

        <div class="hud-item">
            <label>Episode
                <span class="tooltip">‚ÑπÔ∏è
                    <span class="tooltip-text">Num√©ro de l‚Äô√©pisode en cours.</span>
                </span>
            </label>
            <span id="ia_episode">--</span>
        </div>

    </div>
</section>

<script src="ia.js"></script>
</body>
</html>
